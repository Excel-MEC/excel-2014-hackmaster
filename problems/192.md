  <p>Let x be a real number.<br />  A best approximation to x for the denominator bound d is a rational number r/s in reduced form, with s &le; d, such that any rational number which is closer to x than r/s has a denominator larger than d:</p>    |p/q-x| &lt; |r/s-x| <img src='images/symbol_implies.gif' width='15' height='11' alt='&rArr;' border='0' style='vertical-align:middle;' /> q <img src='images/symbol_gt.gif' width='10' height='10' alt='&gt;' border='0' style='vertical-align:middle;' /> d    <p>For example, the best approximation to <img src='images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />13 for the denominator bound 20 is 18/5 and the best approximation to <img src='images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />13 for the denominator bound 30 is 101/28.</p>    <p>Find the sum of all denominators of the best approximations to <img src='images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />n for the denominator bound 1012, where n is not a perfect square and 1 &lt; n &le; 100000.</p>  